{"version":3,"sources":["frontend/screens/BubbleBackground/BubbleBackground.js","backend/solace-connection-options.js","backend/solace-connection.js","frontend/components/ModalCreateABubble/ModalCreateABubble.js","frontend/components/ModalJoinABubble/ModalJoinABubble.js","frontend/img/logo.svg","frontend/screens/MainMenu/MainMenu.js","frontend/components/Video/Video.js","frontend/components/ModalPlayVideo/ModalPlayVideo.js","frontend/components/SideBarLabel/SideBarLabel.js","frontend/components/SideBarList/SideBarList.js","frontend/components/SideBarChat/SideBarChat.js","frontend/components/SideBar/SideBar.js","frontend/screens/RoomScreen/RoomScreen.js","frontend/components/ThemeChanger/ThemeChanger.js","frontend/App.js","index.js"],"names":["Bubbles","themeColor","colorTransparent","themeTransparency","className","style","backgroundImage","userName","password","process","invocationContext","host","port","clientId","timeout","keepAliveInterval","cleanSession","useSSL","reconnect","solaceConnection","options","Number","onMessageArrived","handleMessage","bind","callbacks","Promise","resolve","reject","onSuccess","onFailure","connect","responseObject","errorCode","console","log","callback","this","push","message","payloadString","forEach","Paho","Client","Modal","setAppElement","MODAL_STYLES","overlay","backgroundColor","content","width","minWidth","borderRadius","top","left","right","bottom","marginRight","transform","zIndex","color","ModalCreateABubble","isOpen","closeModal","contentLabel","useState","nickname","setNickname","newRoomCode","setNewRoomCode","networkErrorEncountered","setNetworkErrorEncountered","redirectToRoomScreen","setRedirectToRoomScreen","to","pathname","state","roomcode","handleSubmit","e","a","preventDefault","fetch","method","then","response","json","roomCodeObject","payload","username","headers","body","JSON","stringify","status","connectWithPromise","subscribe","catch","error","resetForm","onRequestClose","onSubmit","type","value","onChange","target","maxLength","disabled","marginBottom","display","padding","ModalJoinABubble","setRoomCode","MainMenu","isJoinModalOpen","setIsJoinModalOpen","isCreateModalOpen","setIsCreateModalOpen","useEffect","disconnect","src","logo","alt","onClick","VideoApp","props","playNewVideo","playVideo","pauseVideo","onPlayerReady","videoId","player","videoOptions","height","obj","parse","messageType","loadVideoById","event","register","getCurrentTime","Message","destinationName","send","opts","onReady","onPlay","onVideoPlay","onPause","onVideoPause","onPlaybackRateChange","onVideoPlaybackRateChange","onStateChange","onVideoStateChange","onEnd","onVideoEnd","Component","ModalPlayVideo","queueVideo","handleNewVideoURL","url","URL","searchParams","get","document","getElementById","msg","id","SideBarLabel","label","SideBarList","list","displayList","setDisplayList","map","item","i","SideBarChat","setMessage","messages","setMessages","anchor","useRef","handleNewTextMessage","newMessage","text","scrollToCurrentMessage","current","scrollIntoView","behavior","user","ref","SideBar","isPlayModalOpen","setIsPlayModalOpen","roomMembers","setRoomMembers","handleNewUser","data","users","err","icon","faPlayCircle","faDoorOpen","RoomScreen","location","video","Video","render","ThemeChanger","setThemeColor","showColorPicker","setShowColorPicker","colorValue","setColorValue","faPalette","hex","disableAlpha","App","basename","path","exact","component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.032820e3.chunk.js","sourcesContent":["import './BubbleBackground.css';\r\n\r\nfunction Bubbles({ themeColor, themeTransparency }) {\r\n  const colorTransparent = themeColor + themeTransparency;\r\n  return (\r\n    <div\r\n      className=\"Bubbles\"\r\n      style={{ backgroundImage: `linear-gradient(to bottom right, ${colorTransparent}, ${themeColor})` }}\r\n    >\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bubbles;\r\n","export default {\r\n\tuserName: \"solace-cloud-client\",\r\n\tpassword: process.env.REACT_APP_PASSWORD,\r\n\tinvocationContext: {\r\n\t\thost: process.env.REACT_APP_SECURE_HOST,\r\n\t\tport: 8443,\r\n\t\tclientId: \"\"\r\n\t},\r\n\ttimeout: 3,\r\n\tkeepAliveInterval: 60,\r\n\tcleanSession: true,\r\n\tuseSSL: true,\r\n\treconnect: true\r\n};","import options from './solace-connection-options';\r\nimport Paho from 'paho-mqtt';\r\n\r\nclass SolaceConnection extends Paho.Client {\r\n  constructor() {\r\n    super(options.invocationContext.host, Number(options.invocationContext.port), options.invocationContext.clientId);\r\n    this.onMessageArrived = this.handleMessage.bind(this);\r\n    this.callbacks = [];\r\n  }\r\n\r\n  connectWithPromise() {\r\n    return new Promise((resolve, reject) => {\r\n      options.onSuccess = resolve;\r\n      options.onFailure = reject;\r\n      this.connect(options);\r\n    });\r\n  }\r\n\r\n  // called when the client loses its connection\r\n  onConnectionLost(responseObject) {\r\n    if (responseObject.errorCode !== 0) {\r\n      console.log('Connection lost with Solace Cloud');\r\n    }\r\n\r\n    // TODO: add auto-reconnect\r\n  }\r\n\r\n  register(callback) {\r\n    this.callbacks.push(callback);\r\n  }\r\n\r\n  // called when a message arrives\r\n  handleMessage(message) {\r\n    console.log('Received message', message.payloadString);\r\n    this.callbacks.forEach((callback) => callback(message));\r\n  }\r\n}\r\n\r\nconst solaceConnection = new SolaceConnection();\r\nexport default solaceConnection;\r\n","import { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { Redirect } from 'react-router-dom';\r\nimport './ModalCreateABubble.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    width: '15%',\r\n    minWidth: '200px',\r\n    borderRadius: '10px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalCreateABubble({ isOpen, closeModal, contentLabel }) {\r\n  const [ nickname, setNickname ] = useState('');\r\n  const [ newRoomCode, setNewRoomCode ] = useState('');\r\n  const [ networkErrorEncountered, setNetworkErrorEncountered ] = useState(false);\r\n  const [ redirectToRoomScreen, setRedirectToRoomScreen ] = useState(false);\r\n\r\n  if (redirectToRoomScreen) {\r\n    console.log('redirecting to', newRoomCode);\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/room',\r\n          state: { roomcode: newRoomCode, nickname: nickname }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (nickname !== '') {\r\n      // CREATE ROOM AND THEN JOIN THAT ROOM\r\n      try {\r\n        const roomCodeObject = await fetch(`${process.env.REACT_APP_BACKEND_URL}/createroom`, {\r\n          method: 'POST'\r\n        }).then((response) => response.json());\r\n\r\n        const roomcode = roomCodeObject.message;\r\n        const payload = { roomcode: roomcode, username: nickname };\r\n        setNewRoomCode(roomcode);\r\n\r\n        const joinRoomResponse = await fetch(`${process.env.REACT_APP_BACKEND_URL}/joinroom`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (joinRoomResponse.status === 200) {\r\n          solaceConnection\r\n            .connectWithPromise()\r\n            .then((response) => {\r\n              console.log('Succesfully connected to Solace Cloud.', response);\r\n              // subscribe to topic\r\n              solaceConnection.subscribe(roomcode);\r\n              console.log(solaceConnection);\r\n\r\n              // redirect\r\n              setRedirectToRoomScreen(true);\r\n            })\r\n            .catch((error) => {\r\n              console.log('Unable to establish connection with Solace Cloud, see above logs for more details.', error);\r\n              resetForm();\r\n            });\r\n        } else {\r\n          setNetworkErrorEncountered(true);\r\n          resetForm();\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        setNetworkErrorEncountered(true);\r\n        resetForm();\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setNickname('');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={MODAL_STYLES}\r\n      contentLabel={contentLabel}\r\n    >\r\n      <p className=\"modal-header\">nickname</p>\r\n      <form className=\"modal-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          className=\"modal-name-input\"\r\n          type=\"text\"\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n          maxLength={15}\r\n        />\r\n        <button className=\"modal-submit-button\" disabled={nickname === ''}>\r\n          join\r\n        </button>\r\n      </form>\r\n      <p style={{ marginBottom: 0, color: '#f44', display: networkErrorEncountered ? 'block' : 'none' }}>\r\n        Our servers are having some issues at the moment...\r\n      </p>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalCreateABubble;\r\n","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport './ModalJoinABubble.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    width: '15%',\r\n    minWidth: '200px',\r\n    borderRadius: '10px',\r\n    padding: '30px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalJoinABubble({ isOpen, closeModal, contentLabel }) {\r\n  const [ roomcode, setRoomCode ] = useState('');\r\n  const [ nickname, setNickname ] = useState('');\r\n  const [ networkErrorEncountered, setNetworkErrorEncountered ] = useState(false);\r\n  const [ redirectToRoomScreen, setRedirectToRoomScreen ] = useState(false);\r\n\r\n  if (redirectToRoomScreen) {\r\n    console.log('redirecting to', roomcode);\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/room',\r\n          state: { roomcode, nickname }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const payload = { roomcode: roomcode, username: nickname };\r\n\r\n      const joinRoomResponse = await fetch(`${process.env.REACT_APP_BACKEND_URL}/joinroom`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      if (joinRoomResponse.status === 200) {\r\n        // subscribe to topic\r\n        solaceConnection\r\n          .connectWithPromise()\r\n          .then((response) => {\r\n            console.log('Succesfully connected to Solace Cloud.', response);\r\n            solaceConnection.subscribe(roomcode);\r\n\r\n            // redirect to room screen\r\n            setRedirectToRoomScreen(true);\r\n          })\r\n          .catch((error) => {\r\n            console.log('Unable to establish connection with Solace Cloud, see above logs for more details.', error);\r\n            resetForm();\r\n          });\r\n      } else {\r\n        setNetworkErrorEncountered(true);\r\n        resetForm();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setNetworkErrorEncountered(true);\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setRoomCode('');\r\n    setNickname('');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={MODAL_STYLES}\r\n      contentLabel={contentLabel}\r\n    >\r\n      <form className=\"modal-join-form\" onSubmit={handleSubmit}>\r\n        <p className=\"modal-join-header\">bubble code</p>\r\n        <input\r\n          className=\"modal-join-code-input\"\r\n          type=\"text\"\r\n          value={roomcode}\r\n          onChange={(e) => setRoomCode(e.target.value)}\r\n        />\r\n        <p className=\"modal-join-header\">nickname</p>\r\n        <input\r\n          className=\"modal-join-name-input\"\r\n          type=\"text\"\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n          maxLength={15}\r\n        />\r\n        <button className=\"modal-join-submit-button\">join</button>\r\n      </form>\r\n      <p style={{ marginBottom: 0, color: '#f44', display: networkErrorEncountered ? 'block' : 'none' }}>\r\n        Please enter a valid room code.\r\n      </p>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalJoinABubble;\r\n","export default __webpack_public_path__ + \"static/media/logo.cead2453.svg\";","import { useState, useEffect } from 'react';\r\nimport ModalCreateABubble from '../../components/ModalCreateABubble/ModalCreateABubble';\r\nimport ModalJoinABubble from '../../components/ModalJoinABubble/ModalJoinABubble';\r\nimport logo from '../../img/logo.svg';\r\nimport './MainMenu.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction MainMenu() {\r\n  const [ isJoinModalOpen, setIsJoinModalOpen ] = useState(false);\r\n  const [ isCreateModalOpen, setIsCreateModalOpen ] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // disconnect client from solace everytime they go to the main menu (home screen)\r\n    try {\r\n      solaceConnection.disconnect();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"MainMenu\">\r\n      <div style={{ display: isJoinModalOpen || isCreateModalOpen ? 'none' : 'block' }}>\r\n        <div className=\"logo-section\">\r\n          <h1 className=\"logo-text\">bubbles</h1>\r\n          <img className=\"logo-pic\" src={logo} alt=\"logo\" />\r\n        </div>\r\n        <div className=\"menu-buttons\">\r\n          <p className=\"menu-button\" onClick={() => setIsCreateModalOpen(true)}>\r\n            start a bubble\r\n          </p>\r\n          <p className=\"menu-button\" onClick={() => setIsJoinModalOpen(true)}>\r\n            join a bubble\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <ModalCreateABubble\r\n        isOpen={isCreateModalOpen}\r\n        closeModal={() => setIsCreateModalOpen(false)}\r\n        contentLabel=\"Create A Bubble\"\r\n      />\r\n      <ModalJoinABubble\r\n        isOpen={isJoinModalOpen}\r\n        closeModal={() => setIsJoinModalOpen(false)}\r\n        contentLabel=\"Join A Bubble\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainMenu;\r\n","import React, { Component } from 'react';\r\nimport YouTube from 'react-youtube';\r\nimport solaceConnection from '../../../backend/solace-connection';\r\nimport Paho from \"paho-mqtt\";\r\n\r\nclass VideoApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.playNewVideo = this.playNewVideo.bind(this);\r\n    this.playVideo = this.playVideo.bind(this);\r\n    this.pauseVideo = this.pauseVideo.bind(this);\r\n    this.onPlayerReady = this.onPlayerReady.bind(this);\r\n    this.videoId = \"\";\r\n    this.state = {\r\n      player: null,\r\n      videoOptions: {\r\n        height: '100%',\r\n        width: '100%',\r\n      }\r\n    }\r\n  }\r\n  \r\n  handleMessage(message) {\r\n    const obj = JSON.parse(message.payloadString);\r\n    console.log(\"Handle message here!\");\r\n    if(obj.messageType === 'playPressed'){\r\n      this.playVideo();\r\n    }\r\n    \r\n    if(obj.messageType === 'pausePressed'){\r\n \tthis.pauseVideo();\r\n    }\r\n  }\r\n  \r\n  playNewVideo(videoId) {\r\n    this.videoId = videoId;\r\n    this.state.player.loadVideoById(this.videoId, 0);\r\n  }\r\n\r\n  playVideo() {\r\n    console.log(this.state);\r\n    this.state.player.playVideo();\r\n  }\r\n\r\n  pauseVideo() {\r\n    this.state.player.pauseVideo();\r\n  }\r\n\r\n  onPlayerReady(event) {\r\n    console.log(\"Player is ready: \", event);\r\n    this.state.player =  event.target;\r\n    solaceConnection.register(this.handleMessage.bind(this))\r\n  }\r\n \r\n  onVideoPlay(event) {\r\n    console.log(\"Video played at: \", event.target.getCurrentTime());\r\n    \r\n    let message = new Paho.Message(JSON.stringify({messageType: 'playPressed', message: 'Play press detected'}));\r\n    message.destinationName = this.props.roomcode;\r\n    solaceConnection.send(message);\r\n  }\r\n\r\n  onVideoPause(event) {\r\n    console.log(\"Video paused at: \", event);\r\n    let message = new Paho.Message(JSON.stringify({messageType: 'pausePressed', message: 'Pause press detected'}));\r\n    message.destinationName = this.props.roomcode;\r\n    solaceConnection.send(message);\r\n  }\r\n\r\n  onVideoPlaybackRateChange(event) {\r\n    console.log(\"Video playback rate changed: \", event);\r\n  }\r\n\r\n  onVideoStateChange(event) {\r\n    console.log(\"Video state changed: \", event);\r\n    console.log(\"state: \", this.state);\r\n  }\r\n\r\n  onVideoEnd() {\r\n    console.log(\"Video ended\");\r\n  }\r\n  \r\n  onVideoError(event) {\r\n    console.log(\"Video error: \", event);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <YouTube\r\n        videoId={this.videoId}\r\n        className={\"Video\"}\r\n        opts={this.state.videoOptions}\r\n        onReady={this.onPlayerReady.bind(this)}\r\n        onPlay={this.onVideoPlay.bind(this)}\r\n        onPause={this.onVideoPause.bind(this)}\r\n        onPlaybackRateChange={this.onVideoPlaybackRateChange.bind(this)}\r\n        onStateChange={this.onVideoStateChange.bind(this)}\r\n        onEnd={this.onVideoEnd.bind(this)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoApp;\r\n","import { useEffect } from 'react';\r\nimport Modal from 'react-modal';\r\nimport './ModalPlayVideo.css';\r\nimport Paho from 'paho-mqtt';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    borderRadius: '10px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalPlayVideo({ isOpen, closeModal, contentLabel, queueVideo, roomcode }) {\r\n  useEffect(() => {\r\n    solaceConnection.register(handleNewVideoURL);\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let url = new URL(document.getElementById('youtube-link-input').value);\r\n      queueVideo(url.searchParams.get('v'));\r\n\r\n      // publish new video to solace\r\n      let msg = new Paho.Message(JSON.stringify({ messageType: 'newVideoURL', url: url }));\r\n      msg.destinationName = roomcode;\r\n      solaceConnection.send(msg);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    closeModal();\r\n  };\r\n\r\n  const handleNewVideoURL = (message) => {\r\n    console.log('NEW MSG');\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'newVideoURL') {\r\n        const url = new URL(obj.url);\r\n        queueVideo(url.searchParams.get('v'));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onRequestClose={closeModal} style={MODAL_STYLES} contentLabel={contentLabel}>\r\n      <p className=\"modal-play-header\">youtube video url</p>\r\n      <form className=\"modal-play-form\" onSubmit={handleSubmit}>\r\n        <input id=\"youtube-link-input\" className=\"modal-play-input\" type=\"text\" />\r\n        <button className=\"modal-play-submit-button\">play</button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalPlayVideo;\r\n","function SideBarLabel({ label, className, onClick }) {\r\n  return (\r\n    <p className={className} onClick={onClick}>\r\n      {label}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default SideBarLabel;\r\n","import { useState } from 'react';\r\nimport './SideBarList.css';\r\nimport SideBarLabel from '../SideBarLabel/SideBarLabel';\r\n\r\nfunction SideBarList({ list }) {\r\n  const [ displayList, setDisplayList ] = useState(true);\r\n  return (\r\n    <div className=\"SideBarList\">\r\n      <SideBarLabel className=\"SideBarList-Toggle\" label=\"members\" onClick={() => setDisplayList(!displayList)} />\r\n      <div style={{ display: displayList ? 'block' : 'none' }} className=\"SideBarList-Items\">\r\n        {list.map((item, i) => <p key={i}>{item}</p>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBarList;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './SideBarChat.css';\r\nimport Paho from 'paho-mqtt';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction SideBarChat({ roomcode, username }) {\r\n  const [ message, setMessage ] = useState('');\r\n  const [ messages, setMessages ] = useState([]);\r\n  const anchor = useRef();\r\n\r\n  useEffect(() => {\r\n    solaceConnection.register(handleNewTextMessage);\r\n  }, []);\r\n\r\n  const handleNewTextMessage = (message) => {\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'newTextMessage') {\r\n        const newMessage = { username: obj.username, text: obj.text };\r\n\r\n        setMessages((messages) => [ ...messages, newMessage ]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    scrollToCurrentMessage();\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message === '') return;\r\n\r\n    let msg = new Paho.Message(JSON.stringify({ messageType: 'newTextMessage', username: username, text: message }));\r\n    msg.destinationName = roomcode;\r\n    solaceConnection.send(msg);\r\n\r\n    // reset form\r\n    setMessage('');\r\n  };\r\n\r\n  const scrollToCurrentMessage = () => {\r\n    anchor.current.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  return (\r\n    <div className=\"SideBarChat\">\r\n      <div className=\"SideBarChat-Items\">\r\n        {messages.map((message, i) => {\r\n          const user = message.username;\r\n          const text = message.text;\r\n          return (\r\n            <p className=\"SideBarChat-Item\" key={i}>\r\n              {user}: {text}\r\n            </p>\r\n          );\r\n        })}\r\n        <div ref={anchor} className=\"SideBarChat-anchor\" />\r\n      </div>\r\n      <form className=\"SideBarChat-Form\" onSubmit={handleSubmit}>\r\n        <input type=\"text\" value={message} onChange={(e) => setMessage(e.target.value)} />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBarChat;\r\n","import { useState, useEffect } from 'react';\r\nimport ModalPlayVideo from '../ModalPlayVideo/ModalPlayVideo';\r\nimport SideBarLabel from '../SideBarLabel/SideBarLabel';\r\nimport SideBarList from '../SideBarList/SideBarList';\r\nimport SideBarChat from '../SideBarChat/SideBarChat';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPlayCircle, faDoorOpen } from '@fortawesome/free-solid-svg-icons';\r\nimport './SideBar.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction SideBar({ roomcode, username, queueVideo }) {\r\n  const [ isPlayModalOpen, setIsPlayModalOpen ] = useState(false);\r\n  const [ roomMembers, setRoomMembers ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // register the publish listener\r\n    solaceConnection.register(handleNewUser);\r\n\r\n    // get initial list of people in the room\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/getUsers`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ roomcode })\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setRoomMembers(data.users))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleNewUser = (message) => {\r\n    console.log('old members', roomMembers);\r\n\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'userJoined') {\r\n        setRoomMembers((roomMembers) => {\r\n          console.log('OLD MEMBERS', roomMembers);\r\n          return [ ...roomMembers, obj.username ];\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"SideBar\">\r\n      <div className=\"SideBar-Top\">\r\n        <SideBarLabel label={roomcode} className=\"RoomCodeLabel\" />\r\n        <SideBarList list={roomMembers} roomcode={roomcode} />\r\n        <SideBarChat roomcode={roomcode} username={username} />\r\n      </div>\r\n      <div className=\"SideBar-Buttons\">\r\n        <button className=\"play-button\" onClick={() => setIsPlayModalOpen(true)}>\r\n          <FontAwesomeIcon icon={faPlayCircle} style={{ marginRight: '10px' }} />\r\n          play\r\n        </button>\r\n        <button className=\"exit-button\">\r\n          <FontAwesomeIcon icon={faDoorOpen} style={{ marginRight: '10px' }} />\r\n          exit\r\n        </button>\r\n      </div>\r\n      <ModalPlayVideo\r\n        isOpen={isPlayModalOpen}\r\n        closeModal={() => setIsPlayModalOpen(false)}\r\n        contentLabel=\"Play Video\"\r\n        queueVideo={queueVideo}\r\n        roomcode={roomcode}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBar;\r\n","import { Redirect } from 'react-router-dom';\r\nimport Video from '../../components/Video/Video';\r\nimport SideBar from '../../components/SideBar/SideBar';\r\n\r\nimport './RoomScreen.css';\r\n\r\nfunction RoomScreen(props) {\r\n  if (!props.location.state) return <Redirect to=\"/\" />;\r\n  const { roomcode, nickname } = props.location.state;\r\n\r\n  let video = new Video({roomcode: roomcode});\r\n\r\n  return (\r\n    <div className=\"RoomScreen\">\r\n      <SideBar roomcode={roomcode} queueVideo={video.playNewVideo} username={nickname} />\r\n      <div className=\"VideoSection\">{video.render()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoomScreen;\r\n","import { useState } from 'react';\r\nimport { ChromePicker } from 'react-color';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPalette } from '@fortawesome/free-solid-svg-icons';\r\nimport './ThemeChanger.css';\r\n\r\nfunction ThemeChanger({ themeColor, setThemeColor }) {\r\n  const [ showColorPicker, setShowColorPicker ] = useState(false);\r\n  const [ colorValue, setColorValue ] = useState(themeColor);\r\n\r\n  const handleColorChange = (color) => {\r\n    const hex = color.hex;\r\n    setColorValue(hex);\r\n    setThemeColor(hex);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ThemeChanger\">\r\n      <FontAwesomeIcon\r\n        icon={faPalette}\r\n        className=\"ThemeChanger-Icon\"\r\n        onClick={() => setShowColorPicker(!showColorPicker)}\r\n      />\r\n      {showColorPicker ? (\r\n        <div className=\"ThemeChanger-Popover\">\r\n          <div className=\"ThemeChanger-Cover\" onClick={() => setShowColorPicker(false)} />\r\n          <ChromePicker\r\n            className=\"ThemeChanger-ColorPicker\"\r\n            onChange={handleColorChange}\r\n            color={colorValue}\r\n            disableAlpha\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ThemeChanger;\r\n","import { useState } from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport BubblesBackground from './screens/BubbleBackground/BubbleBackground';\r\nimport MainMenu from './screens/MainMenu/MainMenu';\r\nimport RoomScreen from './screens/RoomScreen/RoomScreen';\r\nimport ThemeChanger from './components/ThemeChanger/ThemeChanger';\r\nimport './styles/App.css';\r\n\r\nconst DEFAULT_THEME_COLOR = '#413c77';\r\nconst DEFAULT_TEHEME_TRANSPARENCY = '77';\r\n\r\nfunction App() {\r\n  const [ themeColor, setThemeColor ] = useState(DEFAULT_THEME_COLOR);\r\n  const [ themeTransparency, setThemeTransparency ] = useState(DEFAULT_TEHEME_TRANSPARENCY);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BubblesBackground themeColor={themeColor} themeTransparency={themeTransparency} />\r\n      <ThemeChanger themeColor={themeColor} setThemeColor={setThemeColor} />\r\n      <Router basename=\"/\">\r\n        <Switch>\r\n          <Route path=\"/\" exact component={MainMenu} />\r\n          <Route path=\"/room\" exact component={RoomScreen} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './frontend/styles/index.css';\r\nimport App from './frontend/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}