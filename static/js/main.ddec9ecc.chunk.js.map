{"version":3,"sources":["frontend/screens/BubbleBackground/BubbleBackground.js","backend/solace-connection-options.js","backend/solace-connection.js","frontend/components/ModalCreateABubble/ModalCreateABubble.js","frontend/components/ModalJoinABubble/ModalJoinABubble.js","frontend/img/logo.svg","frontend/screens/MainMenu/MainMenu.js","frontend/components/Video/Video.js","frontend/components/ModalPlayVideo/ModalPlayVideo.js","frontend/components/SideBarLabel/SideBarLabel.js","frontend/components/SideBarList/SideBarList.js","frontend/components/SideBarChat/SideBarChat.js","frontend/components/SideBar/SideBar.js","frontend/screens/RoomScreen/RoomScreen.js","frontend/App.js","index.js"],"names":["Bubbles","className","userName","password","process","invocationContext","host","port","clientId","timeout","keepAliveInterval","cleanSession","useSSL","reconnect","solaceConnection","options","Number","onMessageArrived","handleMessage","bind","callbacks","Promise","resolve","reject","onSuccess","onFailure","connect","responseObject","errorCode","console","log","callback","this","push","message","payloadString","forEach","Paho","Client","Modal","setAppElement","MODAL_STYLES","overlay","backgroundColor","content","width","minWidth","borderRadius","top","left","right","bottom","marginRight","transform","zIndex","color","ModalCreateABubble","isOpen","closeModal","contentLabel","useState","nickname","setNickname","newRoomCode","setNewRoomCode","networkErrorEncountered","setNetworkErrorEncountered","redirectToRoomScreen","setRedirectToRoomScreen","to","pathname","state","roomcode","handleSubmit","e","a","preventDefault","fetch","method","then","response","json","roomCodeObject","payload","username","headers","body","JSON","stringify","status","connectWithPromise","subscribe","catch","error","resetForm","onRequestClose","style","onSubmit","type","value","onChange","target","maxLength","disabled","marginBottom","display","padding","ModalJoinABubble","setRoomCode","MainMenu","isJoinModalOpen","setIsJoinModalOpen","isCreateModalOpen","setIsCreateModalOpen","useEffect","disconnect","src","logo","alt","onClick","VideoApp","props","playNewVideo","playVideo","pauseVideo","onPlayerReady","videoId","player","videoOptions","height","obj","parse","messageType","loadVideoById","event","register","getCurrentTime","Message","destinationName","send","opts","onReady","onPlay","onVideoPlay","onPause","onVideoPause","onPlaybackRateChange","onVideoPlaybackRateChange","onStateChange","onVideoStateChange","onEnd","onVideoEnd","Component","ModalPlayVideo","queueVideo","handleNewVideoURL","url","URL","searchParams","get","document","getElementById","msg","id","SideBarLabel","label","SideBarList","list","displayList","setDisplayList","map","item","i","SideBarChat","setMessage","messages","setMessages","anchor","useRef","handleNewTextMessage","newMessage","text","scrollToCurrentMessage","current","scrollIntoView","behavior","user","ref","SideBar","isPlayModalOpen","setIsPlayModalOpen","roomMembers","setRoomMembers","handleNewUser","data","users","err","RoomScreen","location","video","Video","render","App","basename","path","exact","component","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.ddec9ecc.chunk.js","sourcesContent":["import './BubbleBackground.css';\r\n\r\nfunction Bubbles() {\r\n  return (\r\n    <div className=\"Bubbles\">\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n      <div className=\"bubble\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bubbles;\r\n","export default {\r\n\tuserName: \"solace-cloud-client\",\r\n\tpassword: process.env.REACT_APP_PASSWORD,\r\n\tinvocationContext: {\r\n\t\thost: process.env.REACT_APP_SECURE_HOST,\r\n\t\tport: 8443,\r\n\t\tclientId: \"\"\r\n\t},\r\n\ttimeout: 3,\r\n\tkeepAliveInterval: 60,\r\n\tcleanSession: true,\r\n\tuseSSL: true,\r\n\treconnect: true\r\n};","import options from './solace-connection-options';\r\nimport Paho from 'paho-mqtt';\r\n\r\nclass SolaceConnection extends Paho.Client {\r\n  constructor() {\r\n    super(options.invocationContext.host, Number(options.invocationContext.port), options.invocationContext.clientId);\r\n    this.onMessageArrived = this.handleMessage.bind(this);\r\n    this.callbacks = [];\r\n  }\r\n\r\n  connectWithPromise() {\r\n    return new Promise((resolve, reject) => {\r\n      options.onSuccess = resolve;\r\n      options.onFailure = reject;\r\n      this.connect(options);\r\n    });\r\n  }\r\n\r\n  // called when the client loses its connection\r\n  onConnectionLost(responseObject) {\r\n    if (responseObject.errorCode !== 0) {\r\n      console.log('Connection lost with Solace Cloud');\r\n    }\r\n\r\n    // TODO: add auto-reconnect\r\n  }\r\n\r\n  register(callback) {\r\n    this.callbacks.push(callback);\r\n  }\r\n\r\n  // called when a message arrives\r\n  handleMessage(message) {\r\n    console.log('Received message', message.payloadString);\r\n    this.callbacks.forEach((callback) => callback(message));\r\n  }\r\n}\r\n\r\nconst solaceConnection = new SolaceConnection();\r\nexport default solaceConnection;\r\n","import { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport { Redirect } from 'react-router-dom';\r\nimport './ModalCreateABubble.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    width: '15%',\r\n    minWidth: '200px',\r\n    borderRadius: '10px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalCreateABubble({ isOpen, closeModal, contentLabel }) {\r\n  const [ nickname, setNickname ] = useState('');\r\n  const [ newRoomCode, setNewRoomCode ] = useState('');\r\n  const [ networkErrorEncountered, setNetworkErrorEncountered ] = useState(false);\r\n  const [ redirectToRoomScreen, setRedirectToRoomScreen ] = useState(false);\r\n\r\n  if (redirectToRoomScreen) {\r\n    console.log('redirecting to', newRoomCode);\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/room',\r\n          state: { roomcode: newRoomCode, nickname: nickname }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (nickname !== '') {\r\n      // CREATE ROOM AND THEN JOIN THAT ROOM\r\n      try {\r\n        const roomCodeObject = await fetch(`${process.env.REACT_APP_BACKEND_URL}/createroom`, {\r\n          method: 'POST'\r\n        }).then((response) => response.json());\r\n\r\n        const roomcode = roomCodeObject.message;\r\n        const payload = { roomcode: roomcode, username: nickname };\r\n        setNewRoomCode(roomcode);\r\n\r\n        const joinRoomResponse = await fetch(`${process.env.REACT_APP_BACKEND_URL}/joinroom`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (joinRoomResponse.status === 200) {\r\n          solaceConnection\r\n            .connectWithPromise()\r\n            .then((response) => {\r\n              console.log('Succesfully connected to Solace Cloud.', response);\r\n              // subscribe to topic\r\n              solaceConnection.subscribe(roomcode);\r\n              console.log(solaceConnection);\r\n\r\n              // redirect\r\n              setRedirectToRoomScreen(true);\r\n            })\r\n            .catch((error) => {\r\n              console.log('Unable to establish connection with Solace Cloud, see above logs for more details.', error);\r\n              resetForm();\r\n            });\r\n        } else {\r\n          setNetworkErrorEncountered(true);\r\n          resetForm();\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n        setNetworkErrorEncountered(true);\r\n        resetForm();\r\n      }\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setNickname('');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={MODAL_STYLES}\r\n      contentLabel={contentLabel}\r\n    >\r\n      <p className=\"modal-header\">nickname</p>\r\n      <form className=\"modal-form\" onSubmit={handleSubmit}>\r\n        <input\r\n          className=\"modal-name-input\"\r\n          type=\"text\"\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n          maxLength={15}\r\n        />\r\n        <button className=\"modal-submit-button\" disabled={nickname === ''}>\r\n          join\r\n        </button>\r\n      </form>\r\n      <p style={{ marginBottom: 0, color: '#f44', display: networkErrorEncountered ? 'block' : 'none' }}>\r\n        Our servers are having some issues at the moment...\r\n      </p>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalCreateABubble;\r\n","import { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Modal from 'react-modal';\r\nimport './ModalJoinABubble.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    width: '15%',\r\n    minWidth: '200px',\r\n    borderRadius: '10px',\r\n    padding: '30px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalJoinABubble({ isOpen, closeModal, contentLabel }) {\r\n  const [ roomcode, setRoomCode ] = useState('');\r\n  const [ nickname, setNickname ] = useState('');\r\n  const [ networkErrorEncountered, setNetworkErrorEncountered ] = useState(false);\r\n  const [ redirectToRoomScreen, setRedirectToRoomScreen ] = useState(false);\r\n\r\n  if (redirectToRoomScreen) {\r\n    console.log('redirecting to', roomcode);\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: '/room',\r\n          state: { roomcode, nickname }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const payload = { roomcode: roomcode, username: nickname };\r\n\r\n      const joinRoomResponse = await fetch(`${process.env.REACT_APP_BACKEND_URL}/joinroom`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      if (joinRoomResponse.status === 200) {\r\n        // subscribe to topic\r\n        solaceConnection\r\n          .connectWithPromise()\r\n          .then((response) => {\r\n            console.log('Succesfully connected to Solace Cloud.', response);\r\n            solaceConnection.subscribe(roomcode);\r\n\r\n            // redirect to room screen\r\n            setRedirectToRoomScreen(true);\r\n          })\r\n          .catch((error) => {\r\n            console.log('Unable to establish connection with Solace Cloud, see above logs for more details.', error);\r\n            resetForm();\r\n          });\r\n      } else {\r\n        setNetworkErrorEncountered(true);\r\n        resetForm();\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      setNetworkErrorEncountered(true);\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setRoomCode('');\r\n    setNickname('');\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      // onAfterOpen={afterOpenModal}\r\n      onRequestClose={closeModal}\r\n      style={MODAL_STYLES}\r\n      contentLabel={contentLabel}\r\n    >\r\n      <form className=\"modal-join-form\" onSubmit={handleSubmit}>\r\n        <p className=\"modal-join-header\">bubble code</p>\r\n        <input\r\n          className=\"modal-join-code-input\"\r\n          type=\"text\"\r\n          value={roomcode}\r\n          onChange={(e) => setRoomCode(e.target.value)}\r\n        />\r\n        <p className=\"modal-join-header\">nickname</p>\r\n        <input\r\n          className=\"modal-join-name-input\"\r\n          type=\"text\"\r\n          value={nickname}\r\n          onChange={(e) => setNickname(e.target.value)}\r\n          maxLength={15}\r\n        />\r\n        <button className=\"modal-join-submit-button\">join</button>\r\n      </form>\r\n      <p style={{ marginBottom: 0, color: '#f44', display: networkErrorEncountered ? 'block' : 'none' }}>\r\n        Please enter a valid room code.\r\n      </p>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalJoinABubble;\r\n","export default __webpack_public_path__ + \"static/media/logo.cead2453.svg\";","import { useState, useEffect } from 'react';\r\nimport ModalCreateABubble from '../../components/ModalCreateABubble/ModalCreateABubble';\r\nimport ModalJoinABubble from '../../components/ModalJoinABubble/ModalJoinABubble';\r\nimport logo from '../../img/logo.svg';\r\nimport './MainMenu.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction MainMenu() {\r\n  const [ isJoinModalOpen, setIsJoinModalOpen ] = useState(false);\r\n  const [ isCreateModalOpen, setIsCreateModalOpen ] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // disconnect client from solace everytime they go to the main menu (home screen)\r\n    try {\r\n      solaceConnection.disconnect();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"MainMenu\">\r\n      <div style={{ display: isJoinModalOpen || isCreateModalOpen ? 'none' : 'block' }}>\r\n        <div className=\"logo-section\">\r\n          <h1 className=\"logo-text\">bubbles</h1>\r\n          <img className=\"logo-pic\" src={logo} alt=\"logo\" />\r\n        </div>\r\n        <div className=\"menu-buttons\">\r\n          <p className=\"menu-button\" onClick={() => setIsCreateModalOpen(true)}>\r\n            start a bubble\r\n          </p>\r\n          <p className=\"menu-button\" onClick={() => setIsJoinModalOpen(true)}>\r\n            join a bubble\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <ModalCreateABubble\r\n        isOpen={isCreateModalOpen}\r\n        closeModal={() => setIsCreateModalOpen(false)}\r\n        contentLabel=\"Create A Bubble\"\r\n      />\r\n      <ModalJoinABubble\r\n        isOpen={isJoinModalOpen}\r\n        closeModal={() => setIsJoinModalOpen(false)}\r\n        contentLabel=\"Join A Bubble\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainMenu;\r\n","import React, { Component } from 'react';\r\nimport YouTube from 'react-youtube';\r\nimport solaceConnection from '../../../backend/solace-connection';\r\nimport Paho from \"paho-mqtt\";\r\n\r\nclass VideoApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.playNewVideo = this.playNewVideo.bind(this);\r\n    this.playVideo = this.playVideo.bind(this);\r\n    this.pauseVideo = this.pauseVideo.bind(this);\r\n    this.onPlayerReady = this.onPlayerReady.bind(this);\r\n    this.videoId = \"\";\r\n    this.state = {\r\n      player: null,\r\n      videoOptions: {\r\n        height: '100%',\r\n        width: '100%',\r\n      }\r\n    }\r\n  }\r\n  \r\n  handleMessage(message) {\r\n    const obj = JSON.parse(message.payloadString);\r\n    console.log(\"Handle message here!\");\r\n    if(obj.messageType === 'playPressed'){\r\n      this.playVideo();\r\n    }\r\n    \r\n    if(obj.messageType === 'pausePressed'){\r\n \tthis.pauseVideo();\r\n    }\r\n  }\r\n  \r\n  playNewVideo(videoId) {\r\n    this.videoId = videoId;\r\n    this.state.player.loadVideoById(this.videoId, 0);\r\n  }\r\n\r\n  playVideo() {\r\n    console.log(this.state);\r\n    this.state.player.playVideo();\r\n  }\r\n\r\n  pauseVideo() {\r\n    this.state.player.pauseVideo();\r\n  }\r\n\r\n  onPlayerReady(event) {\r\n    console.log(\"Player is ready: \", event);\r\n    this.state.player =  event.target;\r\n    solaceConnection.register(this.handleMessage.bind(this))\r\n  }\r\n \r\n  onVideoPlay(event) {\r\n    console.log(\"Video played at: \", event.target.getCurrentTime());\r\n    \r\n    let message = new Paho.Message(JSON.stringify({messageType: 'playPressed', message: 'Play press detected'}));\r\n    message.destinationName = this.props.roomcode;\r\n    solaceConnection.send(message);\r\n  }\r\n\r\n  onVideoPause(event) {\r\n    console.log(\"Video paused at: \", event);\r\n    let message = new Paho.Message(JSON.stringify({messageType: 'pausePressed', message: 'Pause press detected'}));\r\n    message.destinationName = this.props.roomcode;\r\n    solaceConnection.send(message);\r\n  }\r\n\r\n  onVideoPlaybackRateChange(event) {\r\n    console.log(\"Video playback rate changed: \", event);\r\n  }\r\n\r\n  onVideoStateChange(event) {\r\n    console.log(\"Video state changed: \", event);\r\n    console.log(\"state: \", this.state);\r\n  }\r\n\r\n  onVideoEnd() {\r\n    console.log(\"Video ended\");\r\n  }\r\n  \r\n  onVideoError(event) {\r\n    console.log(\"Video error: \", event);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <YouTube\r\n        videoId={this.videoId}\r\n        className={\"Video\"}\r\n        opts={this.state.videoOptions}\r\n        onReady={this.onPlayerReady.bind(this)}\r\n        onPlay={this.onVideoPlay.bind(this)}\r\n        onPause={this.onVideoPause.bind(this)}\r\n        onPlaybackRateChange={this.onVideoPlaybackRateChange.bind(this)}\r\n        onStateChange={this.onVideoStateChange.bind(this)}\r\n        onEnd={this.onVideoEnd.bind(this)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default VideoApp;\r\n","import { useEffect } from 'react';\r\nimport Modal from 'react-modal';\r\nimport './ModalPlayVideo.css';\r\nimport Paho from 'paho-mqtt';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nModal.setAppElement('#modal-portal');\r\n\r\nconst MODAL_STYLES = {\r\n  overlay: {\r\n    backgroundColor: 'none'\r\n  },\r\n  content: {\r\n    borderRadius: '10px',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: '1000',\r\n    color: 'rgba(0, 0, 0, 0.5)'\r\n  }\r\n};\r\n\r\nfunction ModalPlayVideo({ isOpen, closeModal, contentLabel, queueVideo, roomcode }) {\r\n  useEffect(() => {\r\n    solaceConnection.register(handleNewVideoURL);\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let url = new URL(document.getElementById('youtube-link-input').value);\r\n      queueVideo(url.searchParams.get('v'));\r\n\r\n      // publish new video to solace\r\n      let msg = new Paho.Message(JSON.stringify({ messageType: 'newVideoURL', url: url }));\r\n      msg.destinationName = roomcode;\r\n      solaceConnection.send(msg);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    closeModal();\r\n  };\r\n\r\n  const handleNewVideoURL = (message) => {\r\n    console.log('NEW MSG');\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'newVideoURL') {\r\n        const url = new URL(obj.url);\r\n        queueVideo(url.searchParams.get('v'));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onRequestClose={closeModal} style={MODAL_STYLES} contentLabel={contentLabel}>\r\n      <p className=\"modal-play-header\">youtube video url</p>\r\n      <form className=\"modal-play-form\" onSubmit={handleSubmit}>\r\n        <input id=\"youtube-link-input\" className=\"modal-play-input\" type=\"text\" />\r\n        <button className=\"modal-play-submit-button\">play</button>\r\n      </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ModalPlayVideo;\r\n","function SideBarLabel({ label, className, onClick }) {\r\n  return (\r\n    <p className={className} onClick={onClick}>\r\n      {label}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default SideBarLabel;\r\n","import { useState } from 'react';\r\nimport './SideBarList.css';\r\nimport SideBarLabel from '../SideBarLabel/SideBarLabel';\r\n\r\nfunction SideBarList({ list }) {\r\n  const [ displayList, setDisplayList ] = useState(true);\r\n  return (\r\n    <div className=\"SideBarList\">\r\n      <SideBarLabel className=\"SideBarList-Toggle\" label=\"members\" onClick={() => setDisplayList(!displayList)} />\r\n      <div style={{ display: displayList ? 'block' : 'none' }} className=\"SideBarList-Items\">\r\n        {list.map((item, i) => <p key={i}>{item}</p>)}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBarList;\r\n","import { useState, useEffect, useRef } from 'react';\r\nimport './SideBarChat.css';\r\nimport Paho from 'paho-mqtt';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction SideBarChat({ roomcode, username }) {\r\n  const [ message, setMessage ] = useState('');\r\n  const [ messages, setMessages ] = useState([]);\r\n  const anchor = useRef();\r\n\r\n  useEffect(() => {\r\n    solaceConnection.register(handleNewTextMessage);\r\n  }, []);\r\n\r\n  const handleNewTextMessage = (message) => {\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'newTextMessage') {\r\n        const newMessage = { username: obj.username, text: obj.text };\r\n\r\n        setMessages((messages) => [ ...messages, newMessage ]);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    scrollToCurrentMessage();\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message === '') return;\r\n\r\n    let msg = new Paho.Message(JSON.stringify({ messageType: 'newTextMessage', username: username, text: message }));\r\n    msg.destinationName = roomcode;\r\n    solaceConnection.send(msg);\r\n\r\n    // reset form\r\n    setMessage('');\r\n  };\r\n\r\n  const scrollToCurrentMessage = () => {\r\n    anchor.current.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  return (\r\n    <div className=\"SideBarChat\">\r\n      <div className=\"SideBarChat-Items\">\r\n        {messages.map((message, i) => {\r\n          const user = message.username;\r\n          const text = message.text;\r\n          return (\r\n            <p className=\"SideBarChat-Item\" key={i}>\r\n              {user}: {text}\r\n            </p>\r\n          );\r\n        })}\r\n        <div ref={anchor} className=\"SideBarChat-anchor\" />\r\n      </div>\r\n      <form className=\"SideBarChat-Form\" onSubmit={handleSubmit}>\r\n        <input type=\"text\" value={message} onChange={(e) => setMessage(e.target.value)} />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBarChat;\r\n","import { useState, useEffect } from 'react';\r\nimport ModalPlayVideo from '../ModalPlayVideo/ModalPlayVideo';\r\nimport SideBarLabel from '../SideBarLabel/SideBarLabel';\r\nimport SideBarList from '../SideBarList/SideBarList';\r\nimport SideBarChat from '../SideBarChat/SideBarChat';\r\nimport './SideBar.css';\r\n\r\nimport solaceConnection from '../../../backend/solace-connection';\r\n\r\nfunction SideBar({ roomcode, username, queueVideo }) {\r\n  const [ isPlayModalOpen, setIsPlayModalOpen ] = useState(false);\r\n  const [ roomMembers, setRoomMembers ] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // register the publish listener\r\n    solaceConnection.register(handleNewUser);\r\n\r\n    // get initial list of people in the room\r\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/getUsers`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ roomcode })\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setRoomMembers(data.users))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleNewUser = (message) => {\r\n    console.log('old members', roomMembers);\r\n\r\n    try {\r\n      const obj = JSON.parse(message.payloadString);\r\n      if (obj.messageType === 'userJoined') {\r\n        setRoomMembers((roomMembers) => {\r\n          console.log('OLD MEMBERS', roomMembers);\r\n          return [ ...roomMembers, obj.username ];\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"SideBar\">\r\n      <div className=\"SideBar-Top\">\r\n        <SideBarLabel label={roomcode} className=\"RoomCodeLabel\" />\r\n        <SideBarList list={roomMembers} roomcode={roomcode} />\r\n        <SideBarChat roomcode={roomcode} username={username} />\r\n      </div>\r\n      <div className=\"SideBar-Buttons\">\r\n        <button className=\"play-button\" onClick={() => setIsPlayModalOpen(true)}>\r\n          play\r\n        </button>\r\n        <button className=\"exit-button\">exit</button>\r\n      </div>\r\n      <ModalPlayVideo\r\n        isOpen={isPlayModalOpen}\r\n        closeModal={() => setIsPlayModalOpen(false)}\r\n        contentLabel=\"Play Video\"\r\n        queueVideo={queueVideo}\r\n        roomcode={roomcode}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideBar;\r\n","import { Redirect } from 'react-router-dom';\r\nimport Video from '../../components/Video/Video';\r\nimport SideBar from '../../components/SideBar/SideBar';\r\n\r\nimport './RoomScreen.css';\r\n\r\nfunction RoomScreen(props) {\r\n  if (!props.location.state) return <Redirect to=\"/\" />;\r\n  const { roomcode, nickname } = props.location.state;\r\n\r\n  let video = new Video({roomcode: roomcode});\r\n\r\n  return (\r\n    <div className=\"RoomScreen\">\r\n      <SideBar roomcode={roomcode} queueVideo={video.playNewVideo} username={nickname} />\r\n      <div className=\"VideoSection\">{video.render()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RoomScreen;\r\n","import { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Bubbles from './screens/BubbleBackground/BubbleBackground';\r\nimport MainMenu from './screens/MainMenu/MainMenu';\r\nimport RoomScreen from './screens/RoomScreen/RoomScreen';\r\nimport './styles/App.css';\r\n\r\nfunction App() {\r\n  // TODO: add react-router for MainMenu / RoomScreen\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Bubbles />\r\n      <Router basename=\"/\">\r\n        <Switch>\r\n          <Route path=\"/\" exact component={MainMenu} />\r\n          <Route path=\"/room\" exact component={RoomScreen} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './frontend/styles/index.css';\r\nimport App from './frontend/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}